"use strict";(self["webpackChunkomp"]=self["webpackChunkomp"]||[]).push([[411],{2617:function(a,e,l){l.d(e,{FU:function(){return t},VA:function(){return s},WO:function(){return o}});var n=l(6146);function t(){return(0,n.u)().get("/api/Work/userInfo")}function s(a){return(0,n.u)().get(`/api/Work/login${a}`)}function o(a){return(0,n.u)().get(`/api/Manage/user/${a}/permission`)}},6411:function(a,e,l){l.r(e),l.d(e,{default:function(){return ba}});var n=l(6252),t=l(2262),s=l(8825),o=l(2201),i=l(3577),d=l(2941);const u={class:"m-detail m-company-detail"},r={class:"m-info"},m={class:"u-label"},c=["src"],p={class:"u-label"},v={class:"u-info-items"},g={class:"u-label"},w={class:"u-value"};var _={__name:"companyDetail",setup(a){const e=(0,o.yj)(),{id:l}=e.params;let s=(0,t.qj)({info:{},loading:!1});const _={createAt:"创建时间",organizationId:"企业ID",orgzLogo:"企业LOGO",orgzName:"企业名称",phoneNum:"企业负责人手机",status:"企业状态",userName:"企业负责人",items:"企业成员"};return(0,n.bv)((()=>{s.loading=!0,(0,d.oS)(l).then((a=>{let e=a.data.data;delete e.userId,s.info=e})).finally((()=>s.loading=!1))})),(a,e)=>{const l=(0,n.Q2)("loading");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,t.SU)(s).info,((a,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"m-row",key:e},["orgzLogo"==e?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("span",m,(0,i.zw)(_[e]),1),(0,n._)("img",{src:a},null,8,c)],64)):"items"==e?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("span",p,(0,i.zw)(_[e]),1),(0,n._)("div",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a,((a,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"u-item",key:e},[(0,n._)("span",null,"状态："+(0,i.zw)(a.enabled),1),(0,n._)("span",null,"成员："+(0,i.zw)(a.userName||"-"),1),(0,n._)("span",null,"电话："+(0,i.zw)(a.phoneNum||"-"),1)])))),128))])],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[(0,n._)("span",g,(0,i.zw)(_[e]),1),(0,n._)("span",w,(0,i.zw)(a||"-"),1)],64))])))),128))])])),[[l,(0,t.SU)(s).loading]])}}};const b=_;var f=b,y=l(999);const D={class:"m-detail m-customer-detail"},z={class:"m-info"},U={class:"u-label"},k={class:"u-value"},h={class:"m-info m-table"},S=(0,n._)("h4",null,"用户所在组织信息",-1);var I={__name:"customerDetail",setup(a){const e=(0,o.yj)(),{id:l}=(0,t.IU)(e).params.value;let s=(0,t.qj)({data:{},loading:!1});const d={userId:"用户ID",phoneNum:"手机号码",status:"用户帐号状态",updateAt:"最新登录时间"};return(0,n.bv)((()=>{s.loading=!0,(0,y.O3)(l).then((a=>{s.data=a.data.data})).finally((()=>s.loading=!1))})),(a,e)=>{const l=(0,n.up)("el-table-column"),o=(0,n.up)("el-table"),u=(0,n.Q2)("loading");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",D,[(0,n._)("div",z,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(d,((a,e)=>(0,n._)("div",{class:"m-row",key:e},[(0,n._)("span",U,(0,i.zw)(a),1),(0,n._)("span",k,(0,i.zw)((0,t.SU)(s).data[e]),1)]))),64))]),(0,n._)("div",h,[S,(0,n.Wm)(o,{data:(0,t.SU)(s).data.items,border:"",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{prop:"orgzId",label:"所在企业ID",width:"180"}),(0,n.Wm)(l,{prop:"orgzName",label:"所在企业名称"}),(0,n.Wm)(l,{prop:"userName",label:"姓名"}),(0,n.Wm)(l,{prop:"role",label:"所属角色"})])),_:1},8,["data"])])])),[[u,(0,t.SU)(s).loading]])}}};const W=I;var H=W,j=l(3727);const q={class:"m-detail m-equipment-detail"},L={class:"m-info"},Y={class:"u-label"},N={class:"u-value"},A={class:"m-info"},$={class:"u-label"},V={class:"u-value"};var K={__name:"equipmentDetail",setup(a){const e=(0,o.yj)(),{id:l}=(0,t.IU)(e).params.value;let s=(0,t.qj)({data:{},loading:!1});(0,n.bv)((()=>{s.loading=!0,(0,j.Q$)(l).then((a=>{s.data=a.data.data})).finally((()=>s.loading=!1))}));const d={deviceId:"设备ID",deviceType:"设备类型",orgzName:"归属客户",hardVer:"硬件版本",softVer:"固件版本",value:"已绑定"},u={iccid:"ICCID",createAt:"开始时间",updateAd:"更新时间"};return(a,e)=>{const l=(0,n.Q2)("loading");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",q,[(0,n._)("div",L,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(d,((a,e)=>(0,n._)("div",{class:"m-row",key:e},[(0,n._)("span",Y,(0,i.zw)(a),1),(0,n._)("span",N,(0,i.zw)((0,t.SU)(s).data[e]),1)]))),64))]),(0,n._)("div",A,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(u,((a,e)=>(0,n._)("div",{class:"m-row",key:e},[(0,n._)("span",$,(0,i.zw)(a),1),(0,n._)("span",V,(0,i.zw)((0,t.SU)(s).data[e]),1)]))),64))])])),[[l,(0,t.SU)(s).loading]])}}};const O=K;var Q=O,X=l(2617),C=l(1575);const P={class:"m-detail m-customer-detail"},F={class:"m-info"},G={class:"m-row m-row-user"},J=["src","alt"],M={class:"m-row"},R=(0,n._)("span",{class:"u-label"},"userId",-1),T={class:"u-value"},x={class:"m-row"},B=(0,n._)("span",{class:"u-label"},"手机",-1),E={class:"u-value"},Z={class:"m-row"},aa=(0,n._)("span",{class:"u-label"},"邮箱",-1),ea={class:"u-value"},la={class:"m-row"},na=(0,n._)("span",{class:"u-label"},"创建时间",-1),ta={class:"u-value"},sa={class:"m-row"},oa=(0,n._)("span",{class:"u-label"},"账号状态",-1),ia={class:"u-value"};var da={__name:"roleDetail",setup(a){const e=(0,o.tv)();let l=(0,t.qj)({data:{},loading:!1});const d=(0,s.t)();let{role:u}=(0,C.Jk)(d);return localStorage.getItem("token")||e.push({name:"home"}),(0,n.bv)((()=>{l.loading=!0,(0,X.FU)().then((a=>{l.data=a.data.data,(0,X.WO)(a.data.data.userId).then((a=>{u=a.data.data,d.role=u}))})).finally((()=>{l.loading=!1}))})),(a,e)=>{const s=(0,n.Q2)("loading");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",P,[(0,n._)("div",F,[(0,n._)("div",G,[(0,n._)("img",{class:"u-info-avatar",src:(0,t.SU)(l).data.avatar,alt:(0,t.SU)(l).data.name},null,8,J),(0,n.Uk)((0,i.zw)((0,t.SU)(l).data.name||"-"),1)]),(0,n._)("div",M,[R,(0,n._)("span",T,(0,i.zw)((0,t.SU)(l).data.userId||"-"),1)]),(0,n._)("div",x,[B,(0,n._)("span",E,(0,i.zw)((0,t.SU)(l).data.mobile||"-"),1)]),(0,n._)("div",Z,[aa,(0,n._)("span",ea,(0,i.zw)((0,t.SU)(l).data.email||"-"),1)]),(0,n._)("div",la,[na,(0,n._)("span",ta,(0,i.zw)((0,t.SU)(l).data.updatedAt||"-"),1)]),(0,n._)("div",sa,[oa,(0,n._)("span",ia,(0,i.zw)("0"==(0,t.SU)(l).data.disabled?"正常":"停用"),1)])])])),[[s,(0,t.SU)(l).loading]])}}};const ua=da;var ra=ua;const ma={class:"m-detail m-commonLogs"};var ca={__name:"commonLogs",props:{data:Array},setup(a){const e=a,l=(0,n.Fl)((()=>e.data));return(a,e)=>{const s=(0,n.up)("el-table-column"),o=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",ma,[(0,n.Wm)(o,{class:"m-table",data:(0,t.SU)(l),border:"",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"id",label:"时间",width:"180"}),(0,n.Wm)(s,{prop:"name",label:"操作者",width:"180"}),(0,n.Wm)(s,{prop:"address",label:"行为"}),(0,n.Wm)(s,{prop:"address",label:"对象类型"}),(0,n.Wm)(s,{prop:"address",label:"对象"}),(0,n.Wm)(s,{prop:"address",label:"详情记录"})])),_:1},8,["data"])])}}};const pa=ca;var va=pa;const ga={class:"m-details v-page"};var wa={__name:"DetailsPage",setup(a){var e;const l=(0,s.t)(),i=(0,o.yj)(),d=(0,t.qj)((0,o.tv)()),{type:u,id:r}=(0,t.IU)(i).params.value,{data:m}=l,c=(0,t.iH)(null===(e=m[u])||void 0===e?void 0:e.key_name),p=(0,t.iH)("info"),v=(0,t.iH)(u),g=(0,t.qj)({pagination:{page:1,per:20,total:0},data:[],component_name:"commonLogs",component:null}),w=(0,t.qj)({companyDetail:(0,t.Xl)(f),customerDetail:(0,t.Xl)(H),equipmentDetail:(0,t.Xl)(Q),roleDetail:(0,t.Xl)(ra),commonLogs:(0,t.Xl)(va)}),_=(0,t.iH)(!0);return(0,n.YP)(p,(a=>{g.component_name="logs"==a?(0,t.iH)("commonLogs"):(0,t.iH)(`${v.value}Detail`),g.component=w[g.component_name]}),{deep:!0,immediate:!0}),(0,n.YP)(d,(a=>{_.value=!1,p.value="info";const e=a.currentRoute.params.type;v.value=e,"company"!=e&&"role"!=e||(_.value=!1),"role"==e&&(c.value="账号"),g.component_name=(0,t.iH)(`${e}Detail`),g.component=w[g.component_name]}),{deep:!0,immediate:!0}),(a,e)=>{const l=(0,n.up)("el-tab-pane"),t=(0,n.up)("el-tabs"),s=(0,n.up)("commonPagination");return(0,n.wg)(),(0,n.iD)("div",ga,[(0,n.Wm)(t,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),class:"m-tabs"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{label:`${c.value}信息`,name:"info"},null,8,["label"]),_.value?((0,n.wg)(),(0,n.j4)(l,{key:0,label:`${c.value}操作日志`,name:"logs"},null,8,["label"])):(0,n.kq)("",!0)])),_:1},8,["modelValue"]),((0,n.wg)(),(0,n.j4)((0,n.LL)(g.component),{data:g.data},null,8,["data"])),_.value?((0,n.wg)(),(0,n.j4)(s,{key:0,pagination:g.pagination},null,8,["pagination"])):(0,n.kq)("",!0)])}}};const _a=wa;var ba=_a}}]);
//# sourceMappingURL=411.8af40efa.js.map