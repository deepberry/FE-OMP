{"version":3,"file":"js/304.f7e4560b.js","mappings":"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","sources":["webpack://omp/./src/service/company.js","webpack://omp/./src/service/customer.js","webpack://omp/./src/service/equipment.js","webpack://omp/./src/service/manage.js","webpack://omp/./src/components/detail/companyDetail.vue","webpack://omp/./src/components/detail/companyDetail.vue?9601","webpack://omp/./src/components/detail/customerDetail.vue","webpack://omp/./src/components/detail/customerDetail.vue?f3db","webpack://omp/./src/components/detail/equipmentDetail.vue","webpack://omp/./src/components/detail/equipmentDetail.vue?01ea","webpack://omp/./src/service/index.js","webpack://omp/./src/components/detail/roleDetail.vue","webpack://omp/./src/components/detail/roleDetail.vue?6e7c","webpack://omp/./src/components/detail/commonLogs.vue","webpack://omp/./src/components/detail/commonLogs.vue?1ca0","webpack://omp/./src/views/DetailsPage.vue","webpack://omp/./src/views/DetailsPage.vue?21d6"],"sourcesContent":["import { $admin } from \"./axios.js\";\n\n// 获取企业列表\nfunction getCompanyList(params) {\n    return $admin().get(`/api/Orgz`, { params });\n}\n// 新增企业\nfunction addCompany(data) {\n    return $admin().post(`/api/Orgz`, data);\n}\n// 修改企业信息\nfunction editCompany(data) {\n    return $admin().put(`/api/Orgz`, data);\n}\n// 获取企业logo\nfunction getCompanyLogo(path) {\n    return $admin().get(`/api/Orgz/logo/${path}`);\n}\n// 企业停用/启用\nfunction enabledCompany(OrgzId, enabled) {\n    return $admin().put(`/api/Orgz/${OrgzId}/enabled/${enabled}`);\n}\n// 企业详情\nfunction getCompanyInfo(OrgzId) {\n    return $admin().get(`/api/Orgz/${OrgzId}`);\n}\nexport { getCompanyList, addCompany, editCompany, getCompanyLogo, enabledCompany, getCompanyInfo };\n","import { $admin } from \"./axios.js\";\n\n// 获取用户列表\nfunction getCustomerList(params) {\n    return $admin().get(`/api/User`, { params });\n}\n\n// 用户停用/启用\nfunction enabledCustomer(UserId, enabled) {\n    return $admin().put(`/api/User/${UserId}/enabled/${enabled}`);\n}\n// 用户详情\nfunction getCustomerInfo(UserId) {\n    return $admin().get(`/api/User/${UserId}`);\n}\nexport { getCustomerList, enabledCustomer, getCustomerInfo };\n","import { $admin } from \"./axios.js\";\n\n// 设备列表\nfunction getEquipmentList(params) {\n    return $admin().get(`/api/Device`, { params });\n}\n// 添加设备\nfunction addEquipment(data) {\n    return $admin().post(`/api/Device`, data);\n}\n// 编辑设备\nfunction editEquipment(data) {\n    return $admin().put(`/api/Device`, data);\n}\n// 获取设备详情\nfunction editEquipmentId(deviceId) {\n    return $admin().get(`/api/Device/${deviceId}`);\n}\n\nexport { getEquipmentList, addEquipment, editEquipment, editEquipmentId };\n","import { $admin } from \"./axios.js\";\n\n// 获取用户信息（本账号）\nfunction getUserInfo() {\n    return $admin().get(`/api/Work/userInfo`);\n}\n\n// 添加角色\nfunction addRole(data) {\n    return $admin().post(`/api/Manage/role`, data);\n}\n\n// 更新角色\nfunction editRole(data) {\n    return $admin().put(`/api/Manage/role`, data);\n}\n\n// 删除角色\nfunction delRole(id) {\n    return $admin().delete(`/api/Manage/role/${id}`);\n}\n\n// 获取所有角色\nfunction getRoles() {\n    return $admin().get(`/api/Manage/role`);\n}\n\n// 获取指定角色\nfunction getRoleId(id) {\n    return $admin().get(`/api/Manage/role/${id}`);\n}\n\n// 设置角色权限\nfunction setRolePermission({ id, prmIds }) {\n    return $admin().post(`/api/Manage/role/${id}/permission`, { prmIds });\n}\n\n// 获取所有权限\nfunction getRolePermission() {\n    return $admin().get(`/api/Manage/permission`);\n}\n\n// 获取指定权限\nfunction getRolePermissionId(id) {\n    return $admin().get(`/api/Manage/permission/${id}`);\n}\n\nexport {\n    getUserInfo,\n    addRole,\n    editRole,\n    delRole,\n    getRoles,\n    getRoleId,\n    setRolePermission,\n    getRolePermission,\n    getRolePermissionId,\n};\n","<template>\n    <div class=\"m-detail m-company-detail\" v-loading=\"state.loading\">\n        <div class=\"m-info\">\n            <div class=\"m-row\" v-for=\"(item, k) in state.info\" :key=\"k\">\n                <template v-if=\"k == 'orgzLogo'\">\n                    <span class=\"u-label\">{{ toName[k] }}</span>\n                    <img :src=\"item\" />\n                </template>\n                <template v-else-if=\"k == 'items'\">\n                    <span class=\"u-label\">{{ toName[k] }}</span>\n                    <div class=\"u-info-items\">\n                        <div class=\"u-item\" v-for=\"(user, i) in item\" :key=\"i\">\n                            <span>状态：{{ user.enabled }}</span>\n                            <span>成员：{{ user.userName || \"-\" }}</span>\n                            <span>电话：{{ user.phoneNum || \"-\" }}</span>\n                        </div>\n                    </div>\n                </template>\n                <template v-else>\n                    <span class=\"u-label\">{{ toName[k] }}</span>\n                    <span class=\"u-value\">{{ item || \"-\" }}</span>\n                </template>\n            </div>\n        </div>\n    </div>\n</template>\n<script setup>\nimport { getCompanyInfo } from \"@/service/company\";\nimport { useRoute } from \"vue-router\";\nimport { onMounted, reactive } from \"vue\";\n//====== 数据 ======\n\n// 路由传值\nconst route = useRoute();\nconst { id } = route.params;\nlet state = reactive({\n    info: {},\n    loading: false,\n});\n\n// 字段替换中文\nconst toName = {\n    createAt: \"创建时间\",\n    organizationId: \"企业ID\",\n    orgzLogo: \"企业LOGO\",\n    orgzName: \"企业名称\",\n    phoneNum: \"企业负责人手机\",\n    status: \"企业状态\",\n    userName: \"企业负责人\",\n    items: \"企业成员\",\n};\n\n//====== axios数据 ======\n\n// 初始加载\nonMounted(() => {\n    state.loading = true;\n    getCompanyInfo(id)\n        .then((res) => {\n            let info = res.data.data;\n            delete info.userId;\n            state.info = info;\n        })\n        .finally(() => (state.loading = false));\n});\n</script>\n","import script from \"./companyDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./companyDetail.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"m-detail m-customer-detail\" v-loading=\"state.loading\">\n        <div class=\"m-info\">\n            <div class=\"m-row\" v-for=\"(item, key) in info\" :key=\"key\">\n                <span class=\"u-label\">{{ item }}</span>\n                <span class=\"u-value\">{{ state.data[key] }}</span>\n            </div>\n        </div>\n        <div class=\"m-info m-table\">\n            <h4>用户所在组织信息</h4>\n            <el-table :data=\"state.data.items\" border style=\"width: 100%\">\n                <el-table-column prop=\"orgzId\" label=\"所在企业ID\" width=\"180\" />\n                <el-table-column prop=\"orgzName\" label=\"所在企业名称\" />\n                <el-table-column prop=\"userName\" label=\"姓名\" />\n                <el-table-column prop=\"role\" label=\"所属角色\" />\n            </el-table>\n        </div>\n    </div>\n</template>\n<script setup>\nimport { useRoute } from \"vue-router\";\nimport { onMounted, reactive, toRaw } from \"vue\";\nimport { getCustomerInfo } from \"@/service/customer\";\n//====== 数据 ======\n// 路由传值\nconst route = useRoute();\nconst { id } = toRaw(route).params.value;\n// 数据\nlet state = reactive({\n    data: {},\n    loading: false,\n});\n\n// 自定\nconst info = {\n    userId: \"用户ID\",\n    phoneNum: \"手机号码\",\n    status: \"用户帐号状态\",\n    updateAt: \"最新登录时间\",\n};\n\n//======  axios ======\n// 初始加载\nonMounted(() => {\n    state.loading = true;\n    getCustomerInfo(id)\n        .then((res) => {\n            state.data = res.data.data;\n        })\n        .finally(() => (state.loading = false));\n});\n</script>\n","import script from \"./customerDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./customerDetail.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"m-detail m-equipment-detail\" v-loading=\"state.loading\">\n        <div class=\"m-info\">\n            <div class=\"m-row\" v-for=\"(item, key) in info\" :key=\"key\">\n                <span class=\"u-label\">{{ item }}</span>\n                <span class=\"u-value\">{{ state.data[key] }}</span>\n            </div>\n        </div>\n        <div class=\"m-info\">\n            <div class=\"m-row\" v-for=\"(item, key) in network\" :key=\"key\">\n                <span class=\"u-label\">{{ item }}</span>\n                <span class=\"u-value\">{{ state.data[key] }}</span>\n            </div>\n        </div>\n    </div>\n</template>\n<script setup>\nimport { editEquipmentId } from \"@/service/equipment\";\nimport { useRoute } from \"vue-router\";\nimport { onMounted, reactive, toRaw } from \"vue\";\n//====== 数据 ======\n// 路由传值\nconst route = useRoute();\nconst { id } = toRaw(route).params.value;\n// 数据\nlet state = reactive({\n    data: {},\n    loading: false,\n});\n\n//======  axios ======\n// 初始加载\nonMounted(() => {\n    state.loading = true;\n    editEquipmentId(id)\n        .then((res) => {\n            state.data = res.data.data;\n        })\n        .finally(() => (state.loading = false));\n});\n\n// 自定\nconst info = {\n    deviceId: \"设备ID\",\n    name: \"硬件名称\",\n    orgzName: \"归属客户\",\n    hardVer: \"硬件版本\",\n    softVer: \"固件版本\",\n    value: \"已绑定\",\n};\n// 自定\nconst network = {\n    iccid: \"ICCID\",\n    createAt: \"开始时间\",\n    updateAd: \"更新时间\",\n};\n</script>\n","import script from \"./equipmentDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./equipmentDetail.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { $admin } from \"./axios.js\";\n\nfunction getUserInfo(params) {\n    return $admin().get(`/api/Work/userInfo`, params);\n}\nfunction getUserLogin(code) {\n    return $admin().get(`/api/Work/login${code}`);\n}\n\nfunction getUserPermission(userId) {\n    return $admin().get(`/api/Manage/uer/${userId}/role`);\n}\n\nexport { getUserLogin, getUserInfo, getUserPermission };\n","<template>\n    <div class=\"m-detail m-customer-detail\" v-loading=\"state.loading\">\n        <div class=\"m-info\">\n            <div class=\"m-row m-row-user\">\n                <img class=\"u-info-avatar\" :src=\"state.data.avatar\" :alt=\"state.data.name\" />{{\n                    state.data.name || \"-\"\n                }}\n            </div>\n            <div class=\"m-row\">\n                <span class=\"u-label\">userId</span>\n                <span class=\"u-value\">{{ state.data.userId || \"-\" }}</span>\n            </div>\n            <div class=\"m-row\">\n                <span class=\"u-label\">手机</span>\n                <span class=\"u-value\">{{ state.data.mobile || \"-\" }}</span>\n            </div>\n            <div class=\"m-row\">\n                <span class=\"u-label\">邮箱</span>\n                <span class=\"u-value\">{{ state.data.email || \"-\" }}</span>\n            </div>\n            <div class=\"m-row\">\n                <span class=\"u-label\">创建时间</span>\n                <span class=\"u-value\">{{ state.data.updatedAt || \"-\" }}</span>\n            </div>\n            <div class=\"m-row\">\n                <span class=\"u-label\">状态</span>\n                <span class=\"u-value\">{{ state.data.disabled == \"0\" ? \"正常\" : \"停用\" }}</span>\n            </div>\n        </div>\n    </div>\n</template>\n<script setup>\nimport { reactive, watch, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { getUserLogin, getUserPermission } from \"@/service/index.js\";\nimport { storeToRefs } from \"pinia\";\nimport { deepBerryStore } from \"@/store/index\";\nimport { getUserInfo } from \"@/service/manage\";\n\n//====== 数据 ======\nconst route = useRoute();\nconst store = deepBerryStore();\nlet { role } = storeToRefs(store);\n// 数据\nlet state = reactive({\n    data: {},\n    loading: false,\n});\n\nonMounted(() => {\n    if (localStorage.getItem(\"token\")) {\n        console.log(localStorage.getItem(\"token\"));\n        state.loading = true;\n        getUserInfo()\n            .then((res) => {\n                state.data = res.data.data;\n            })\n            .finally(() => (state.loading = false));\n    }\n});\n//======  axios ======\n// 监控code\nwatch(\n    route,\n    () => {\n        console.log(\"页面获取到code为：\", document.location.search);\n        if (document.location.search) {\n            let code = document.location.search;\n            code = code.split(\"&\")[0];\n            console.log(\"code为：\", code);\n            getUserLogin(code)\n                .then((res) => {\n                    console.log(\"getUserLogin获取的res:\", res);\n                    localStorage.setItem(\"token\", JSON.stringify(res.data.accessToken));\n                    getUserPermission(res.data.userId)\n                        .then((res) => {\n                            role = res.data.viewPermissoins;\n                            store.role = role;\n                        })\n                        .then(() => {\n                            state.loading = true;\n                            getUserInfo()\n                                .then((res) => {\n                                    state.data = res.data.data;\n                                })\n                                .finally(() => (state.loading = false));\n                        });\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n        }\n    },\n    {\n        deep: true,\n        immediate: true,\n    }\n);\n</script>\n","import script from \"./roleDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./roleDetail.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"m-detail m-commonLogs\">\n        <el-table class=\"m-table\" :data=\"table_data\" border style=\"width: 100%\">\n            <el-table-column prop=\"id\" label=\"时间\" width=\"180\" />\n            <el-table-column prop=\"name\" label=\"操作者\" width=\"180\" />\n            <el-table-column prop=\"address\" label=\"行为\" />\n            <el-table-column prop=\"address\" label=\"对象类型\" />\n            <el-table-column prop=\"address\" label=\"对象\" />\n            <el-table-column prop=\"address\" label=\"详情记录\" />\n        </el-table>\n    </div>\n</template>\n<script setup>\nimport { defineProps, computed } from \"vue\";\nconst props = defineProps({\n    data: Array,\n});\n\nconst table_data = computed(() => props.data);\n</script>\n","import script from \"./commonLogs.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./commonLogs.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"m-details v-page\">\n        <!-- tab切换 -->\n        <el-tabs v-model=\"activeName\" class=\"m-tabs\">\n            <el-tab-pane :label=\"`${key_name}信息`\" name=\"info\"></el-tab-pane>\n            <el-tab-pane :label=\"`${key_name}操作日志`\" name=\"logs\" v-if=\"hasLogs\"></el-tab-pane>\n        </el-tabs>\n        <component :is=\"state.component\" :data=\"state.data\"></component>\n        <commonPagination v-if=\"hasLogs\" :pagination=\"state.pagination\" />\n    </div>\n</template>\n<script setup>\nimport { reactive, markRaw, toRaw, ref, watch } from \"vue\";\nimport { deepBerryStore } from \"@/store/index\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport companyDetail from \"@/components/detail/companyDetail.vue\";\nimport customerDetail from \"@/components/detail/customerDetail.vue\";\nimport equipmentDetail from \"@/components/detail/equipmentDetail.vue\";\nimport roleDetail from \"@/components/detail/roleDetail.vue\";\nimport commonLogs from \"@/components/detail/commonLogs.vue\";\nconst store = deepBerryStore();\nconst route = useRoute();\nconst router = reactive(useRouter());\nconst { type, id } = toRaw(route).params.value;\nconst { deepBerry } = store;\nconst key_name = ref(deepBerry[type]?.key_name);\nid;\n\n// tabs切换name\nconst activeName = ref(\"info\");\nconst routeType = ref(type);\n\n// 自定义数据\nconst state = reactive({\n    pagination: {\n        page: 1,\n        per: 20,\n        total: 0,\n    },\n\n    data: [],\n    component_name: \"commonLogs\",\n    component: null,\n});\n\n// 动态组件\nconst myComponent = reactive({\n    companyDetail: markRaw(companyDetail),\n    customerDetail: markRaw(customerDetail),\n    equipmentDetail: markRaw(equipmentDetail),\n    roleDetail: markRaw(roleDetail),\n    commonLogs: markRaw(commonLogs),\n});\n\n// 是否有记录日志\nconst hasLogs = ref(true);\n\n// 监控tab切换组件\nwatch(\n    activeName,\n    (val) => {\n        state.component_name = val == \"logs\" ? ref(\"commonLogs\") : ref(`${routeType.value}Detail`);\n        state.component = myComponent[state.component_name];\n    },\n    { deep: true, immediate: true }\n);\nwatch(\n    router,\n    (val) => {\n        // 是否显示日志tab\n        // hasLogs.value = true;\n        hasLogs.value = false;\n        activeName.value = \"info\";\n\n        const _type = val.currentRoute.params.type;\n        routeType.value = _type;\n\n        if (_type == \"company\" || _type == \"role\") hasLogs.value = false;\n        if (_type == \"role\") key_name.value = \"帐号\";\n\n        state.component_name = ref(`${_type}Detail`);\n        state.component = myComponent[state.component_name];\n    },\n    { deep: true, immediate: true }\n);\n</script>\n<style lang=\"less\">\n@import \"@/assets/css/views/details.less\";\n</style>\n","import script from \"./DetailsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DetailsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DetailsPage.vue?vue&type=style&index=0&id=dc998438&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["getCompanyList","params","$admin","get","addCompany","data","post","editCompany","put","enabledCompany","OrgzId","enabled","getCompanyInfo","getCustomerList","enabledCustomer","UserId","getCustomerInfo","getEquipmentList","addEquipment","editEquipment","editEquipmentId","deviceId","getUserInfo","addRole","editRole","delRole","id","delete","getRoles","getRoleId","setRolePermission","prmIds","getRolePermission","route","useRoute","state","reactive","info","loading","toName","createAt","organizationId","orgzLogo","orgzName","phoneNum","status","userName","items","onMounted","then","res","userId","finally","__exports__","toRaw","value","updateAt","name","hardVer","softVer","network","iccid","updateAd","getUserLogin","code","getUserPermission","store","deepBerryStore","role","storeToRefs","localStorage","getItem","console","log","watch","document","location","search","split","setItem","JSON","stringify","accessToken","viewPermissoins","catch","err","deep","immediate","table_data","computed","props","router","useRouter","type","deepBerry","key_name","ref","activeName","routeType","pagination","page","per","total","component_name","component","myComponent","companyDetail","markRaw","customerDetail","equipmentDetail","roleDetail","commonLogs","hasLogs","val","_type","currentRoute"],"sourceRoot":""}