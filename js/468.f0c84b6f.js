"use strict";(self["webpackChunkomp"]=self["webpackChunkomp"]||[]).push([[468],{2941:function(a,e,n){n.d(e,{ji:function(){return o},lQ:function(){return u},m_:function(){return l},mz:function(){return i},oS:function(){return s}});var t=n(6146);function l(a){return(0,t.u)().get("/api/Orgz",{params:a})}function u(a){return(0,t.u)().post("/api/Orgz",a)}function o(a){return(0,t.u)().put("/api/Orgz",a)}function i(a,e){return(0,t.u)().put(`/api/Orgz/${a}/enabled/${e}`)}function s(a){return(0,t.u)().get(`/api/Orgz/${a}`)}},999:function(a,e,n){n.d(e,{O3:function(){return o},lz:function(){return u},wN:function(){return l}});var t=n(6146);function l(a){return(0,t.u)().get("/api/User",{params:a})}function u(a,e){return(0,t.u)().put(`/api/User/${a}/enabled/${e}`)}function o(a){return(0,t.u)().get(`/api/User/${a}`)}},3727:function(a,e,n){n.d(e,{Ol:function(){return o},ag:function(){return u},eM:function(){return l},qM:function(){return i}});var t=n(6146);function l(a){return(0,t.u)().get("/api/Device",{params:a})}function u(a){return(0,t.u)().post("/api/Device",a)}function o(a){return(0,t.u)().put("/api/Device",a)}function i(a){return(0,t.u)().get(`/api/Device/${a}`)}},1468:function(a,e,n){n.r(e),n.d(e,{default:function(){return Z}});var t=n(6252),l=n(2262),u=n(4239),o=n(2201),i=n(3577),s=n(2941);const r={class:"m-detail m-company-detail"},m={class:"m-info"},c={class:"u-label"},d=["src"],p={class:"u-label"},v={class:"u-info-items"},g={class:"u-label"},w={class:"u-value"};var f={__name:"companyDetail",setup(a){const e=(0,o.yj)(),{id:n}=e.params;let u=(0,l.qj)({info:{},loading:!1});const f={createAt:"创建时间",organizationId:"企业ID",orgzLogo:"企业LOGO",orgzName:"企业名称",phoneNum:"企业负责人手机",status:"企业状态",userName:"企业负责人",items:"企业成员"};return(0,t.bv)((()=>{u.loading=!0,(0,s.oS)(n).then((a=>{let e=a.data.data;delete e.userId,u.info=e})).finally((()=>u.loading=!1))})),(a,e)=>{const n=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",m,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,l.SU)(u).info,((a,e)=>((0,t.wg)(),(0,t.iD)("div",{class:"m-row",key:e},["orgzLogo"==e?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("span",c,(0,i.zw)(f[e]),1),(0,t._)("img",{src:a},null,8,d)],64)):"items"==e?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("span",p,(0,i.zw)(f[e]),1),(0,t._)("div",v,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a,((a,e)=>((0,t.wg)(),(0,t.iD)("div",{class:"u-item",key:e},[(0,t._)("span",null,"状态："+(0,i.zw)(a.enabled),1),(0,t._)("span",null,"成员："+(0,i.zw)(a.userName||"-"),1),(0,t._)("span",null,"电话："+(0,i.zw)(a.phoneNum||"-"),1)])))),128))])],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t._)("span",g,(0,i.zw)(f[e]),1),(0,t._)("span",w,(0,i.zw)(a||"-"),1)],64))])))),128))])])),[[n,(0,l.SU)(u).loading]])}}};const _=f;var b=_,D=n(999);const z={class:"m-detail m-customer-detail"},y={class:"m-info"},k={class:"m-info m-table"},U=(0,t._)("h4",null,"用户所在组织信息",-1);var W={__name:"customerDetail",setup(a){const e=(0,o.yj)(),{id:n}=(0,l.IU)(e).params.value;let u=(0,l.qj)({data:{}});return(0,t.bv)((()=>{(0,D.O3)(n).then((a=>{u.data=a.data.data}))})),(a,e)=>{const n=(0,t.up)("el-descriptions-item"),o=(0,t.up)("el-descriptions"),s=(0,t.up)("el-table-column"),r=(0,t.up)("el-table");return(0,t.wg)(),(0,t.iD)("div",z,[(0,t._)("div",y,[(0,t.Wm)(o,{class:"m-user",title:"用户基本信息",column:2},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"用户ID"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,l.SU)(u).data.userId),1)])),_:1}),(0,t.Wm)(n,{label:"手机号码"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,l.SU)(u).data.phoneNum),1)])),_:1}),(0,t.Wm)(n,{label:"用户帐号状态"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,l.SU)(u).data.status),1)])),_:1}),(0,t.Wm)(n,{label:"最新登录时间"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,l.SU)(u).data.updateAt),1)])),_:1})])),_:1})]),(0,t._)("div",k,[U,(0,t.Wm)(r,{data:(0,l.SU)(u).data.items,border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{prop:"orgzId",label:"所在企业ID",width:"180"}),(0,t.Wm)(s,{prop:"orgzName",label:"所在企业名称"}),(0,t.Wm)(s,{prop:"userName",label:"姓名"}),(0,t.Wm)(s,{prop:"role",label:"所属角色"})])),_:1},8,["data"])])])}}};const h=W;var q=h,H=n(3727);const j={class:"m-detail m-equipment-detail"},I={class:"m-info"},S={class:"u-label"},$={class:"u-value"},L={class:"m-info"},N={class:"u-label"},O={class:"u-value"};var Y={__name:"equipmentDetail",setup(a){const e=(0,o.yj)(),{id:n}=(0,l.IU)(e).params.value;let u=(0,l.qj)({data:{}});(0,t.bv)((()=>{(0,H.qM)(n).then((a=>{u.data=a.data.data}))}));const s={deviceId:"设备ID",name:"硬件名称",orgzName:"归属客户",hardVer:"硬件版本",softVer:"固件版本",value:"已绑定"},r={iccid:"ICCID",createAt:"开始时间",updateAd:"更新时间"};return(a,e)=>((0,t.wg)(),(0,t.iD)("div",j,[(0,t._)("div",I,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(s,((a,e)=>(0,t._)("div",{class:"m-row",key:e},[(0,t._)("span",S,(0,i.zw)(a),1),(0,t._)("span",$,(0,i.zw)((0,l.SU)(u).data[e]),1)]))),64))]),(0,t._)("div",L,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(r,((a,e)=>(0,t._)("div",{class:"m-row",key:e},[(0,t._)("span",N,(0,i.zw)(a),1),(0,t._)("span",O,(0,i.zw)((0,l.SU)(u).data[e]),1)]))),64))])]))}};const A=Y;var K=A;const V={class:"m-detail m-customer-detail"},X={class:"m-info"},C={class:"u-label"},P={class:"u-value"};var M={__name:"roleDetail",setup(a){const e=[{label:"姓名",value:"张三"},{label:"手机号码",value:"18100000000"},{label:"邮箱",value:"1234556@qq.com"},{label:"公司",value:"苏州深莓智能科技有限公司"},{label:"部门",value:"技术部"},{label:"角色",value:"技术人员；生产人员"}];return(a,n)=>((0,t.wg)(),(0,t.iD)("div",V,[(0,t._)("div",X,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(e,((a,e)=>(0,t._)("div",{class:"m-row",key:e},[(0,t._)("span",C,(0,i.zw)(a.label),1),(0,t._)("span",P,(0,i.zw)(a.value),1)]))),64))])]))}};const Q=M;var B=Q;const F={class:"m-detail m-commonLogs"};var G={__name:"commonLogs",props:{data:Array},setup(a){const e=a,n=(0,t.Fl)((()=>e.data));return(a,e)=>{const u=(0,t.up)("el-table-column"),o=(0,t.up)("el-table");return(0,t.wg)(),(0,t.iD)("div",F,[(0,t.Wm)(o,{class:"m-table",data:(0,l.SU)(n),border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{prop:"id",label:"时间",width:"180"}),(0,t.Wm)(u,{prop:"name",label:"操作者",width:"180"}),(0,t.Wm)(u,{prop:"address",label:"行为"}),(0,t.Wm)(u,{prop:"address",label:"对象类型"}),(0,t.Wm)(u,{prop:"address",label:"对象"}),(0,t.Wm)(u,{prop:"address",label:"详情记录"})])),_:1},8,["data"])])}}};const R=G;var x=R;const E={class:"m-details v-page"};var J={__name:"DetailsPage",setup(a){var e;const n=(0,u.t)(),i=(0,o.yj)(),s=(0,l.qj)((0,o.tv)()),{type:r,id:m}=(0,l.IU)(i).params.value,{deepBerry:c}=n,d=(0,l.iH)(null===(e=c[r])||void 0===e?void 0:e.key_name),p=(0,l.iH)("info"),v=(0,l.iH)(r),g=(0,l.qj)({loading:!1,pagination:{page:1,per:20,total:0},data:[],component_name:"commonLogs",component:null}),w=(0,l.qj)({companyDetail:(0,l.Xl)(b),customerDetail:(0,l.Xl)(q),equipmentDetail:(0,l.Xl)(K),roleDetail:(0,l.Xl)(B),commonLogs:(0,l.Xl)(x)}),f=(0,l.iH)(!0);return(0,t.YP)(p,(a=>{g.component_name="logs"==a?(0,l.iH)("commonLogs"):(0,l.iH)(`${v.value}Detail`),g.component=w[g.component_name]}),{deep:!0,immediate:!0}),(0,t.YP)(s,(a=>{f.value=!0,p.value="info";const e=a.currentRoute.params.type;v.value=e,"company"!=e&&"role"!=e||(f.value=!1),"role"==e&&(d.value="帐号"),g.component_name=(0,l.iH)(`${e}Detail`),g.component=w[g.component_name]}),{deep:!0,immediate:!0}),(a,e)=>{const n=(0,t.up)("el-tab-pane"),l=(0,t.up)("el-tabs"),u=(0,t.up)("commonPagination");return(0,t.wg)(),(0,t.iD)("div",E,[(0,t.Wm)(l,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),class:"m-tabs"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:`${d.value}信息`,name:"info"},null,8,["label"]),f.value?((0,t.wg)(),(0,t.j4)(n,{key:0,label:`${d.value}操作日志`,name:"logs"},null,8,["label"])):(0,t.kq)("",!0)])),_:1},8,["modelValue"]),((0,t.wg)(),(0,t.j4)((0,t.LL)(g.component),{data:g.data},null,8,["data"])),f.value?((0,t.wg)(),(0,t.j4)(u,{key:0,pagination:g.pagination},null,8,["pagination"])):(0,t.kq)("",!0)])}}};const T=J;var Z=T}}]);
//# sourceMappingURL=468.f0c84b6f.js.map