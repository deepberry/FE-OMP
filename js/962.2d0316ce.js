"use strict";(self["webpackChunkomp"]=self["webpackChunkomp"]||[]).push([[962],{9962:function(e,a,s){s.r(a),s.d(a,{default:function(){return _}});var t={};s.r(t);var n=s(6252),c=s(2262),o=s(2201),i=s(2908);s(6146);const r=e=>((0,n.dD)("data-v-93a38a38"),e=e(),(0,n.Cn)(),e),p={class:"v-home"},l=["src"],d=r((()=>(0,n._)("span",{class:"title"},"深莓智能运营管理平台",-1))),u={key:0,class:"desc"},m=(0,n.Uk)("连接失败，请再次尝试，或联系管理人员");var h={__name:"HomeView",setup(e){const a=(0,o.yj)(),s=(0,o.tv)(),r="ww5429d07e97752284",h=encodeURI("https://admin.deepberry.cn:444/"),f=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${r}&redirect_uri=${h}&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect`,g=(0,c.iH)(""),_=(0,c.qj)({fail:!1});return s.push({name:"company"}),(0,n.YP)(a,(e=>{g.value=e.query.code}),{deep:!0,immediate:!0}),(0,n.YP)(g,(e=>{e&&(0,t.getUserLogin)({code:e}).then((e=>{console.log(e),_.fail=!1,localStorage.setItem("token",JSON.stringify(e.data.accessToken)),s.push({name:"company"})})).catch((e=>{console.log(e),_.fail=!0}))}),{deep:!0,immediate:!0}),(e,a)=>{const s=(0,n.up)("Warning");return(0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("img",{class:"logo",src:(0,c.SU)(i),alt:"深莓智能"},null,8,l),d,(0,n._)("a",{href:f,class:"button"},"点击进入"),_.fail?((0,n.wg)(),(0,n.iD)("span",u,[(0,n.Wm)(s,{class:"icon"}),m])):(0,n.kq)("",!0)])}}},f=s(3744);const g=(0,f.Z)(h,[["__scopeId","data-v-93a38a38"]]);var _=g}}]);
//# sourceMappingURL=962.2d0316ce.js.map