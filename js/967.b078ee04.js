"use strict";(self["webpackChunkomp"]=self["webpackChunkomp"]||[]).push([[967],{2941:function(a,n,e){e.d(n,{ji:function(){return o},lQ:function(){return u},m_:function(){return l},mz:function(){return i},oS:function(){return r}});var t=e(6146);function l(a){return(0,t.u)().get("/api/Orgz",{params:a})}function u(a){return(0,t.u)().post("/api/Orgz",a)}function o(a){return(0,t.u)().put("/api/Orgz",a)}function i(a,n){return(0,t.u)().put(`/api/Orgz/${a}/enabled/${n}`)}function r(a){return(0,t.u)().get(`/api/Orgz/${a}`)}},999:function(a,n,e){e.d(n,{O3:function(){return o},lz:function(){return u},wN:function(){return l}});var t=e(6146);function l(a){return(0,t.u)().get("/api/User",{params:a})}function u(a,n){return(0,t.u)().put(`/api/User/${a}/enabled/${n}`)}function o(a){return(0,t.u)().get(`/api/User/${a}`)}},3727:function(a,n,e){e.d(n,{Ol:function(){return o},ag:function(){return u},eM:function(){return l},qM:function(){return i}});var t=e(6146);function l(a){return(0,t.u)().get("/api/Device",{params:a})}function u(a){return(0,t.u)().post("/api/Device",a)}function o(a){return(0,t.u)().put("/api/Device",a)}function i(a){return(0,t.u)().get(`/api/Device/${a}`)}},8354:function(a,n,e){e.d(n,{Aq:function(){return o},F3:function(){return r},_d:function(){return u},bG:function(){return l},hH:function(){return s},he:function(){return c},k8:function(){return i},yV:function(){return d}});var t=e(6146);function l(){return(0,t.u)().get("/api/Work/userInfo")}function u(a){return(0,t.u)().post("/api/Manage/role",a)}function o(a){return(0,t.u)().put("/api/Manage/role",a)}function i(a){return(0,t.u)().delete(`/api/Manage/role/${a}`)}function r(){return(0,t.u)().get("/api/Manage/role")}function s(a){return(0,t.u)().get(`/api/Manage/role/${a}`)}function c({id:a,prmIds:n}){return(0,t.u)().post(`/api/Manage/role/${a}/permission`,{prmIds:n})}function d(){return(0,t.u)().get("/api/Manage/permission")}},1967:function(a,n,e){e.r(n),e.d(n,{default:function(){return _a}});var t=e(6252),l=e(2262),u=e(8825),o=e(2201),i=e(3577),r=e(2941);const s={class:"m-detail m-company-detail"},c={class:"m-info"},d={class:"u-label"},p=["src"],m={class:"u-label"},g={class:"u-info-items"},v={class:"u-label"},f={class:"u-value"};var _={__name:"companyDetail",setup(a){const n=(0,o.yj)(),{id:e}=n.params;let u=(0,l.qj)({info:{},loading:!1});const _={createAt:"创建时间",organizationId:"企业ID",orgzLogo:"企业LOGO",orgzName:"企业名称",phoneNum:"企业负责人手机",status:"企业状态",userName:"企业负责人",items:"企业成员"};return(0,t.bv)((()=>{u.loading=!0,(0,r.oS)(e).then((a=>{let n=a.data.data;delete n.userId,u.info=n})).finally((()=>u.loading=!1))})),(a,n)=>{const e=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,l.SU)(u).info,((a,n)=>((0,t.wg)(),(0,t.iD)("div",{class:"m-row",key:n},["orgzLogo"==n?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("span",d,(0,i.zw)(_[n]),1),(0,t._)("img",{src:a},null,8,p)],64)):"items"==n?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("span",m,(0,i.zw)(_[n]),1),(0,t._)("div",g,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a,((a,n)=>((0,t.wg)(),(0,t.iD)("div",{class:"u-item",key:n},[(0,t._)("span",null,"状态："+(0,i.zw)(a.enabled),1),(0,t._)("span",null,"成员："+(0,i.zw)(a.userName||"-"),1),(0,t._)("span",null,"电话："+(0,i.zw)(a.phoneNum||"-"),1)])))),128))])],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t._)("span",v,(0,i.zw)(_[n]),1),(0,t._)("span",f,(0,i.zw)(a||"-"),1)],64))])))),128))])])),[[e,(0,l.SU)(u).loading]])}}};const w=_;var b=w,D=e(999);const y={class:"m-detail m-customer-detail"},z={class:"m-info"},U={class:"u-label"},k={class:"u-value"},S={class:"m-info m-table"},h=(0,t._)("h4",null,"用户所在组织信息",-1);var I={__name:"customerDetail",setup(a){const n=(0,o.yj)(),{id:e}=(0,l.IU)(n).params.value;let u=(0,l.qj)({data:{},loading:!1});const r={userId:"用户ID",phoneNum:"手机号码",status:"用户帐号状态",updateAt:"最新登录时间"};return(0,t.bv)((()=>{u.loading=!0,(0,D.O3)(e).then((a=>{u.data=a.data.data})).finally((()=>u.loading=!1))})),(a,n)=>{const e=(0,t.up)("el-table-column"),o=(0,t.up)("el-table"),s=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",y,[(0,t._)("div",z,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(r,((a,n)=>(0,t._)("div",{class:"m-row",key:n},[(0,t._)("span",U,(0,i.zw)(a),1),(0,t._)("span",k,(0,i.zw)((0,l.SU)(u).data[n]),1)]))),64))]),(0,t._)("div",S,[h,(0,t.Wm)(o,{data:(0,l.SU)(u).data.items,border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(e,{prop:"orgzId",label:"所在企业ID",width:"180"}),(0,t.Wm)(e,{prop:"orgzName",label:"所在企业名称"}),(0,t.Wm)(e,{prop:"userName",label:"姓名"}),(0,t.Wm)(e,{prop:"role",label:"所属角色"})])),_:1},8,["data"])])])),[[s,(0,l.SU)(u).loading]])}}};const H=I;var j=H,q=e(3727);const W={class:"m-detail m-equipment-detail"},$={class:"m-info"},L={class:"u-label"},M={class:"u-value"},N={class:"m-info"},O={class:"u-label"},Y={class:"u-value"};var A={__name:"equipmentDetail",setup(a){const n=(0,o.yj)(),{id:e}=(0,l.IU)(n).params.value;let u=(0,l.qj)({data:{},loading:!1});(0,t.bv)((()=>{u.loading=!0,(0,q.qM)(e).then((a=>{u.data=a.data.data})).finally((()=>u.loading=!1))}));const r={deviceId:"设备ID",name:"硬件名称",orgzName:"归属客户",hardVer:"硬件版本",softVer:"固件版本",value:"已绑定"},s={iccid:"ICCID",createAt:"开始时间",updateAd:"更新时间"};return(a,n)=>{const e=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",W,[(0,t._)("div",$,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(r,((a,n)=>(0,t._)("div",{class:"m-row",key:n},[(0,t._)("span",L,(0,i.zw)(a),1),(0,t._)("span",M,(0,i.zw)((0,l.SU)(u).data[n]),1)]))),64))]),(0,t._)("div",N,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(s,((a,n)=>(0,t._)("div",{class:"m-row",key:n},[(0,t._)("span",O,(0,i.zw)(a),1),(0,t._)("span",Y,(0,i.zw)((0,l.SU)(u).data[n]),1)]))),64))])])),[[e,(0,l.SU)(u).loading]])}}};const V=A;var K=V,Q=e(8354);const X={class:"m-detail m-customer-detail"},C={class:"m-info"},P={class:"m-row m-row-user"},G=["src","alt"],F={class:"m-row"},B=(0,t._)("span",{class:"u-label"},"userId",-1),R={class:"u-value"},x={class:"m-row"},E=(0,t._)("span",{class:"u-label"},"手机",-1),J={class:"u-value"},T={class:"m-row"},Z=(0,t._)("span",{class:"u-label"},"邮箱",-1),aa={class:"u-value"},na={class:"m-row"},ea=(0,t._)("span",{class:"u-label"},"创建时间",-1),ta={class:"u-value"},la={class:"m-row"},ua=(0,t._)("span",{class:"u-label"},"状态",-1),oa={class:"u-value"};var ia={__name:"roleDetail",setup(a){let n=(0,l.qj)({data:{},loading:!1});return(0,t.bv)((()=>{n.loading=!0,(0,Q.bG)().then((a=>{n.data=a.data.data})).finally((()=>n.loading=!1))})),(a,e)=>{const u=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",X,[(0,t._)("div",C,[(0,t._)("div",P,[(0,t._)("img",{class:"u-info-avatar",src:(0,l.SU)(n).data.avatar,alt:(0,l.SU)(n).data.name},null,8,G),(0,t.Uk)((0,i.zw)((0,l.SU)(n).data.name||"-"),1)]),(0,t._)("div",F,[B,(0,t._)("span",R,(0,i.zw)((0,l.SU)(n).data.userId||"-"),1)]),(0,t._)("div",x,[E,(0,t._)("span",J,(0,i.zw)((0,l.SU)(n).data.mobile||"-"),1)]),(0,t._)("div",T,[Z,(0,t._)("span",aa,(0,i.zw)((0,l.SU)(n).data.email||"-"),1)]),(0,t._)("div",na,[ea,(0,t._)("span",ta,(0,i.zw)((0,l.SU)(n).data.updatedAt||"-"),1)]),(0,t._)("div",la,[ua,(0,t._)("span",oa,(0,i.zw)("0"==(0,l.SU)(n).data.disabled?"正常":"停用"),1)])])])),[[u,(0,l.SU)(n).loading]])}}};const ra=ia;var sa=ra;const ca={class:"m-detail m-commonLogs"};var da={__name:"commonLogs",props:{data:Array},setup(a){const n=a,e=(0,t.Fl)((()=>n.data));return(a,n)=>{const u=(0,t.up)("el-table-column"),o=(0,t.up)("el-table");return(0,t.wg)(),(0,t.iD)("div",ca,[(0,t.Wm)(o,{class:"m-table",data:(0,l.SU)(e),border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{prop:"id",label:"时间",width:"180"}),(0,t.Wm)(u,{prop:"name",label:"操作者",width:"180"}),(0,t.Wm)(u,{prop:"address",label:"行为"}),(0,t.Wm)(u,{prop:"address",label:"对象类型"}),(0,t.Wm)(u,{prop:"address",label:"对象"}),(0,t.Wm)(u,{prop:"address",label:"详情记录"})])),_:1},8,["data"])])}}};const pa=da;var ma=pa;const ga={class:"m-details v-page"};var va={__name:"DetailsPage",setup(a){var n;const e=(0,u.t)(),i=(0,o.yj)(),r=(0,l.qj)((0,o.tv)()),{type:s,id:c}=(0,l.IU)(i).params.value,{deepBerry:d}=e,p=(0,l.iH)(null===(n=d[s])||void 0===n?void 0:n.key_name),m=(0,l.iH)("info"),g=(0,l.iH)(s),v=(0,l.qj)({pagination:{page:1,per:20,total:0},data:[],component_name:"commonLogs",component:null}),f=(0,l.qj)({companyDetail:(0,l.Xl)(b),customerDetail:(0,l.Xl)(j),equipmentDetail:(0,l.Xl)(K),roleDetail:(0,l.Xl)(sa),commonLogs:(0,l.Xl)(ma)}),_=(0,l.iH)(!0);return(0,t.YP)(m,(a=>{v.component_name="logs"==a?(0,l.iH)("commonLogs"):(0,l.iH)(`${g.value}Detail`),v.component=f[v.component_name]}),{deep:!0,immediate:!0}),(0,t.YP)(r,(a=>{_.value=!1,m.value="info";const n=a.currentRoute.params.type;g.value=n,"company"!=n&&"role"!=n||(_.value=!1),"role"==n&&(p.value="帐号"),v.component_name=(0,l.iH)(`${n}Detail`),v.component=f[v.component_name]}),{deep:!0,immediate:!0}),(a,n)=>{const e=(0,t.up)("el-tab-pane"),l=(0,t.up)("el-tabs"),u=(0,t.up)("commonPagination");return(0,t.wg)(),(0,t.iD)("div",ga,[(0,t.Wm)(l,{modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=a=>m.value=a),class:"m-tabs"},{default:(0,t.w5)((()=>[(0,t.Wm)(e,{label:`${p.value}信息`,name:"info"},null,8,["label"]),_.value?((0,t.wg)(),(0,t.j4)(e,{key:0,label:`${p.value}操作日志`,name:"logs"},null,8,["label"])):(0,t.kq)("",!0)])),_:1},8,["modelValue"]),((0,t.wg)(),(0,t.j4)((0,t.LL)(v.component),{data:v.data},null,8,["data"])),_.value?((0,t.wg)(),(0,t.j4)(u,{key:0,pagination:v.pagination},null,8,["pagination"])):(0,t.kq)("",!0)])}}};const fa=va;var _a=fa}}]);
//# sourceMappingURL=967.b078ee04.js.map