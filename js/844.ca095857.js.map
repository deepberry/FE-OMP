{"version":3,"file":"js/844.ca095857.js","mappings":"oMAEA,SAASA,IACL,OAAOC,EAAAA,EAAAA,KAASC,IAAK,sBAEzB,SAASC,EAAaC,GAClB,OAAOH,EAAAA,EAAAA,KAASC,IAAK,kBAAiBE,KAE1C,SAASC,EAAkBC,GACvB,OAAOL,EAAAA,EAAAA,KAASC,IAAK,oBAAmBI,kB,8SCc5C,MAAMC,GAASC,EAAAA,EAAAA,MAGTC,EAAQ,qBACRC,EAAeC,mBAAmB,mCAClCC,EAAQ,6DAA4DH,kBAAsBC,qEAE1FN,GAAOS,EAAAA,EAAAA,IAAIC,SAASC,SAASC,OAAOC,MAAM,KAAK,I,OAChDC,aAAaC,QAAQ,SAoBtBZ,EAAOa,KAAK,CACRC,KAAM,UACNC,OAAQ,CACJC,KAAM,OACNC,GAAI,EACJpB,UAxBJA,EAAKqB,QACLtB,EAAAA,EAAAA,IAAaC,EAAKqB,OACbC,MAAMC,IACH,MAAMC,EAAQ,UAAYD,EAAIE,KAAKA,KAAKC,YACxCZ,aAAaa,QAAQ,QAASH,GAC9BrB,EAAOa,KAAK,CACRC,KAAM,UACNC,OAAQ,CACJC,KAAM,OACNC,GAAI,EACJpB,aAIX4B,OAAOC,IACJC,QAAQC,IAAIF,M,oKCzC5B,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://omp/./src/service/index.js","webpack://omp/./src/views/HomeView.vue","webpack://omp/./src/views/HomeView.vue?4c5b"],"sourcesContent":["import { $admin } from \"./axios.js\";\n\nfunction getWorkUser() {\n    return $admin().get(`/api/Work/userInfo`);\n}\nfunction getUserLogin(code) {\n    return $admin().get(`/api/Work/login${code}`);\n}\nfunction getUserPermission(userId) {\n    return $admin().get(`/api/Manage/user/${userId}/permission`);\n}\n\nexport { getWorkUser, getUserPermission, getUserLogin };\n","<!--\n * @Description: \n * @Author: litthy\n * @Date: 2022-07-08 13:59:49\n * @LastEditTime: 2022-07-15 14:31:21\n * @LastEditors: litthy\n * @Reference: \n-->\n<template>\n    <div class=\"v-home\">\n        <img class=\"logo\" :src=\"Logo\" alt=\"深莓智能\" />\n        <span class=\"title\">深莓智能运营管理平台</span>\n        <a :href=\"path\" class=\"button\">点击进入</a>\n    </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Logo from \"@deepberry/common/img/logo.svg\";\nimport { getUserLogin } from \"@/service/index.js\";\n\n//====== 数据 ======\nconst router = useRouter();\n\n// 跳转链接数据\nconst APPID = \"ww5429d07e97752284\";\nconst REDIRECT_URI = encodeURIComponent(\"https://admin.deepberry.cn/omp/\");\nconst path = `https://open.weixin.qq.com/connect/oauth2/authorize?appid=${APPID}&redirect_uri=${REDIRECT_URI}&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect`;\n\nconst code = ref(document.location.search.split(\"&\")[0]);\nif (!localStorage.getItem(\"token\")) {\n    if (code.value) {\n        getUserLogin(code.value)\n            .then((res) => {\n                const _code = \"Bearer \" + res.data.data.accessToken;\n                localStorage.setItem(\"token\", _code);\n                router.push({\n                    name: \"details\",\n                    params: {\n                        type: \"role\",\n                        id: 0,\n                        code,\n                    },\n                });\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n} else {\n    router.push({\n        name: \"details\",\n        params: {\n            type: \"role\",\n            id: 0,\n            code,\n        },\n    });\n}\n</script>\n<style lang=\"less\" scoped>\n@import \"@/assets/css/views/home.less\";\n</style>\n","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=3cf1b1d3&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/omp/omp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3cf1b1d3\"]])\n\nexport default __exports__"],"names":["getWorkUser","$admin","get","getUserLogin","code","getUserPermission","userId","router","useRouter","APPID","REDIRECT_URI","encodeURIComponent","path","ref","document","location","search","split","localStorage","getItem","push","name","params","type","id","value","then","res","_code","data","accessToken","setItem","catch","err","console","log","__exports__"],"sourceRoot":""}