"use strict";(self["webpackChunkomp"]=self["webpackChunkomp"]||[]).push([[598],{2941:function(a,e,t){t.d(e,{ji:function(){return u},lQ:function(){return s},m_:function(){return l},mz:function(){return o},oS:function(){return i}});var n=t(6146);function l(a){return(0,n.u)().get("/api/Orgz",{params:a})}function s(a){return(0,n.u)().post("/api/Orgz",a)}function u(a){return(0,n.u)().put("/api/Orgz",a)}function o(a,e){return(0,n.u)().put(`/api/Orgz/${a}/enabled/${e}`)}function i(a){return(0,n.u)().get(`/api/Orgz/${a}`)}},999:function(a,e,t){t.d(e,{O3:function(){return u},lz:function(){return s},wN:function(){return l}});var n=t(6146);function l(a){return(0,n.u)().get("/api/User",{params:a})}function s(a,e){return(0,n.u)().put(`/api/User/${a}/enabled/${e}`)}function u(a){return(0,n.u)().get(`/api/User/${a}`)}},3727:function(a,e,t){t.d(e,{Ol:function(){return u},ag:function(){return s},eM:function(){return l},qM:function(){return o}});var n=t(6146);function l(a){return(0,n.u)().get("/api/Device",{params:a})}function s(a){return(0,n.u)().post("/api/Device",a)}function u(a){return(0,n.u)().put("/api/Device",a)}function o(a){return(0,n.u)().get(`/api/Device/${a}`)}},1598:function(a,e,t){t.r(e),t.d(e,{default:function(){return _a}});var n=t(6252),l=t(2262),s=t(4239),u=t(2201),o=t(3577),i=t(2941);const r={class:"m-detail m-company-detail"},d={class:"m-info"},c={class:"u-label"},m=["src"],p={class:"u-label"},v={class:"u-info-items"},w={class:"u-label"},_={class:"u-value"};var g={__name:"companyDetail",setup(a){const e=(0,u.yj)(),{id:t}=e.params;let s=(0,l.qj)({info:{},loading:!1});const g={createAt:"创建时间",organizationId:"企业ID",orgzLogo:"企业LOGO",orgzName:"企业名称",phoneNum:"企业负责人手机",status:"企业状态",userName:"企业负责人",items:"企业成员"};return(0,n.bv)((()=>{s.loading=!0,(0,i.oS)(t).then((a=>{let e=a.data.data;delete e.userId,s.info=e})).finally((()=>s.loading=!1))})),(a,e)=>{const t=(0,n.Q2)("loading");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(s).info,((a,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"m-row",key:e},["orgzLogo"==e?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("span",c,(0,o.zw)(g[e]),1),(0,n._)("img",{src:a},null,8,m)],64)):"items"==e?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("span",p,(0,o.zw)(g[e]),1),(0,n._)("div",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a,((a,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"u-item",key:e},[(0,n._)("span",null,"状态："+(0,o.zw)(a.enabled),1),(0,n._)("span",null,"成员："+(0,o.zw)(a.userName||"-"),1),(0,n._)("span",null,"电话："+(0,o.zw)(a.phoneNum||"-"),1)])))),128))])],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[(0,n._)("span",w,(0,o.zw)(g[e]),1),(0,n._)("span",_,(0,o.zw)(a||"-"),1)],64))])))),128))])])),[[t,(0,l.SU)(s).loading]])}}};const f=g;var b=f,z=t(999);const D={class:"m-detail m-customer-detail"},U={class:"m-info"},y={class:"m-info m-table"},k=(0,n._)("h4",null,"用户所在组织信息",-1);var S={__name:"customerDetail",setup(a){const e=(0,u.yj)(),{id:t}=(0,l.IU)(e).params.value;let s=(0,l.qj)({data:{}});return(0,n.bv)((()=>{(0,z.O3)(t).then((a=>{s.data=a.data.data}))})),(a,e)=>{const t=(0,n.up)("el-descriptions-item"),u=(0,n.up)("el-descriptions"),i=(0,n.up)("el-table-column"),r=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",D,[(0,n._)("div",U,[(0,n.Wm)(u,{class:"m-user",title:"用户基本信息",column:2},{default:(0,n.w5)((()=>[(0,n.Wm)(t,{label:"用户ID"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)((0,l.SU)(s).data.userId),1)])),_:1}),(0,n.Wm)(t,{label:"手机号码"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)((0,l.SU)(s).data.phoneNum),1)])),_:1}),(0,n.Wm)(t,{label:"用户帐号状态"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)((0,l.SU)(s).data.status),1)])),_:1}),(0,n.Wm)(t,{label:"最新登录时间"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)((0,l.SU)(s).data.updateAt),1)])),_:1})])),_:1})]),(0,n._)("div",y,[k,(0,n.Wm)(r,{data:(0,l.SU)(s).data.items,border:"",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{prop:"orgzId",label:"所在企业ID",width:"180"}),(0,n.Wm)(i,{prop:"orgzName",label:"所在企业名称"}),(0,n.Wm)(i,{prop:"userName",label:"姓名"}),(0,n.Wm)(i,{prop:"role",label:"所属角色"})])),_:1},8,["data"])])])}}};const W=S;var h=W,I=t(3727);const j={class:"m-detail m-equipment-detail"},q={class:"m-info"},H={class:"u-label"},$={class:"u-value"},L={class:"m-info"},N={class:"u-label"},O={class:"u-value"};var Y={__name:"equipmentDetail",setup(a){const e=(0,u.yj)(),{id:t}=(0,l.IU)(e).params.value;let s=(0,l.qj)({data:{}});(0,n.bv)((()=>{(0,I.qM)(t).then((a=>{s.data=a.data.data}))}));const i={deviceId:"设备ID",name:"硬件名称",orgzName:"归属客户",hardVer:"硬件版本",softVer:"固件版本",value:"已绑定"},r={iccid:"ICCID",createAt:"开始时间",updateAd:"更新时间"};return(a,e)=>((0,n.wg)(),(0,n.iD)("div",j,[(0,n._)("div",q,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(i,((a,e)=>(0,n._)("div",{class:"m-row",key:e},[(0,n._)("span",H,(0,o.zw)(a),1),(0,n._)("span",$,(0,o.zw)((0,l.SU)(s).data[e]),1)]))),64))]),(0,n._)("div",L,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(r,((a,e)=>(0,n._)("div",{class:"m-row",key:e},[(0,n._)("span",N,(0,o.zw)(a),1),(0,n._)("span",O,(0,o.zw)((0,l.SU)(s).data[e]),1)]))),64))])]))}};const A=Y;var V=A,X=t(6146);function C(){return(0,X.u)().get("/api/Work/userInfo")}const K={class:"m-detail m-customer-detail"},P={class:"m-info"},M={class:"m-row m-row-user"},Q=["src","alt"],B={class:"m-row"},F=(0,n._)("span",{class:"u-label"},"userId",-1),G={class:"u-value"},R={class:"m-row"},x=(0,n._)("span",{class:"u-label"},"手机",-1),E={class:"u-value"},J={class:"m-row"},T=(0,n._)("span",{class:"u-label"},"邮箱",-1),Z={class:"u-value"},aa={class:"m-row"},ea=(0,n._)("span",{class:"u-label"},"创建时间",-1),ta={class:"u-value"},na={class:"m-row"},la=(0,n._)("span",{class:"u-label"},"状态",-1),sa={class:"u-value"};var ua={__name:"roleDetail",setup(a){let e=(0,l.qj)({data:{}});return(0,n.bv)((()=>{C().then((a=>{e.data=a.data.data}))})),(a,t)=>((0,n.wg)(),(0,n.iD)("div",K,[(0,n._)("div",P,[(0,n._)("div",M,[(0,n._)("img",{class:"u-info-avatar",src:(0,l.SU)(e).data.avatar,alt:(0,l.SU)(e).data.name},null,8,Q),(0,n.Uk)((0,o.zw)((0,l.SU)(e).data.name),1)]),(0,n._)("div",B,[F,(0,n._)("span",G,(0,o.zw)((0,l.SU)(e).data.userId),1)]),(0,n._)("div",R,[x,(0,n._)("span",E,(0,o.zw)((0,l.SU)(e).data.mobile),1)]),(0,n._)("div",J,[T,(0,n._)("span",Z,(0,o.zw)((0,l.SU)(e).data.email),1)]),(0,n._)("div",aa,[ea,(0,n._)("span",ta,(0,o.zw)((0,l.SU)(e).data.updatedAt),1)]),(0,n._)("div",na,[la,(0,n._)("span",sa,(0,o.zw)("0"==(0,l.SU)(e).data.disabled?"正常":"停用"),1)])])]))}};const oa=ua;var ia=oa;const ra={class:"m-detail m-commonLogs"};var da={__name:"commonLogs",props:{data:Array},setup(a){const e=a,t=(0,n.Fl)((()=>e.data));return(a,e)=>{const s=(0,n.up)("el-table-column"),u=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",ra,[(0,n.Wm)(u,{class:"m-table",data:(0,l.SU)(t),border:"",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"id",label:"时间",width:"180"}),(0,n.Wm)(s,{prop:"name",label:"操作者",width:"180"}),(0,n.Wm)(s,{prop:"address",label:"行为"}),(0,n.Wm)(s,{prop:"address",label:"对象类型"}),(0,n.Wm)(s,{prop:"address",label:"对象"}),(0,n.Wm)(s,{prop:"address",label:"详情记录"})])),_:1},8,["data"])])}}};const ca=da;var ma=ca;const pa={class:"m-details v-page"};var va={__name:"DetailsPage",setup(a){var e;const t=(0,s.t)(),o=(0,u.yj)(),i=(0,l.qj)((0,u.tv)()),{type:r,id:d}=(0,l.IU)(o).params.value,{deepBerry:c}=t,m=(0,l.iH)(null===(e=c[r])||void 0===e?void 0:e.key_name),p=(0,l.iH)("info"),v=(0,l.iH)(r),w=(0,l.qj)({loading:!1,pagination:{page:1,per:20,total:0},data:[],component_name:"commonLogs",component:null}),_=(0,l.qj)({companyDetail:(0,l.Xl)(b),customerDetail:(0,l.Xl)(h),equipmentDetail:(0,l.Xl)(V),roleDetail:(0,l.Xl)(ia),commonLogs:(0,l.Xl)(ma)}),g=(0,l.iH)(!0);return(0,n.YP)(p,(a=>{w.component_name="logs"==a?(0,l.iH)("commonLogs"):(0,l.iH)(`${v.value}Detail`),w.component=_[w.component_name]}),{deep:!0,immediate:!0}),(0,n.YP)(i,(a=>{g.value=!0,p.value="info";const e=a.currentRoute.params.type;v.value=e,"company"!=e&&"role"!=e||(g.value=!1),"role"==e&&(m.value="帐号"),w.component_name=(0,l.iH)(`${e}Detail`),w.component=_[w.component_name]}),{deep:!0,immediate:!0}),(a,e)=>{const t=(0,n.up)("el-tab-pane"),l=(0,n.up)("el-tabs"),s=(0,n.up)("commonPagination");return(0,n.wg)(),(0,n.iD)("div",pa,[(0,n.Wm)(l,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),class:"m-tabs"},{default:(0,n.w5)((()=>[(0,n.Wm)(t,{label:`${m.value}信息`,name:"info"},null,8,["label"]),g.value?((0,n.wg)(),(0,n.j4)(t,{key:0,label:`${m.value}操作日志`,name:"logs"},null,8,["label"])):(0,n.kq)("",!0)])),_:1},8,["modelValue"]),((0,n.wg)(),(0,n.j4)((0,n.LL)(w.component),{data:w.data},null,8,["data"])),g.value?((0,n.wg)(),(0,n.j4)(s,{key:0,pagination:w.pagination},null,8,["pagination"])):(0,n.kq)("",!0)])}}};const wa=va;var _a=wa}}]);
//# sourceMappingURL=598.04587f5a.js.map