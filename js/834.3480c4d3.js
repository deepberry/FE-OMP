"use strict";(self["webpackChunkomp"]=self["webpackChunkomp"]||[]).push([[834],{2941:function(a,e,n){n.d(e,{ji:function(){return u},lQ:function(){return o},m_:function(){return l},mz:function(){return s},oS:function(){return i},yG:function(){return r}});var t=n(6146);function l(a){return(0,t.u)().get("/api/Orgz",{params:a})}function o(a){return(0,t.u)().post("/api/Orgz",a)}function u(a){return(0,t.u)().put("/api/Orgz",a)}function s(a,e){return(0,t.u)().put(`/api/Orgz/${a}/enabled/${e}`)}function i(a){return(0,t.u)().get(`/api/Orgz/${a}`)}function r(){return(0,t.u)().get("/api/Orgz/total")}},999:function(a,e,n){n.d(e,{O3:function(){return u},lz:function(){return o},wN:function(){return l}});var t=n(6146);function l(a){return(0,t.u)().get("/api/User",{params:a})}function o(a,e){return(0,t.u)().put(`/api/User/${a}/enabled/${e}`)}function u(a){return(0,t.u)().get(`/api/User/${a}`)}},3727:function(a,e,n){n.d(e,{Ol:function(){return u},Q$:function(){return s},ag:function(){return o},cB:function(){return i},eM:function(){return l}});var t=n(6146);function l(a){return(0,t.u)().get("/api/Device",{params:a})}function o(a){return(0,t.u)().post("/api/Device",a)}function u(a){return(0,t.u)().put("/api/Device",a)}function s(a){return(0,t.u)().get(`/api/Device/${a}`)}function i(){return(0,t.u)().get("/api/Device/type")}},2617:function(a,e,n){n.d(e,{FU:function(){return l},VA:function(){return o},WO:function(){return u}});var t=n(6146);function l(){return(0,t.u)().get("/api/Work/userInfo")}function o(a){return(0,t.u)().get(`/api/Work/login${a}`)}function u(a){return(0,t.u)().get(`/api/Manage/user/${a}/permission`)}},8834:function(a,e,n){n.r(e),n.d(e,{default:function(){return _a}});var t=n(6252),l=n(2262),o=n(8825),u=n(2201),s=n(3577),i=n(2941);const r={class:"m-detail m-company-detail"},c={class:"m-info"},d={class:"u-label"},m=["src"],p={class:"u-label"},g={class:"u-info-items"},v={class:"u-label"},f={class:"u-value"};var w={__name:"companyDetail",setup(a){const e=(0,u.yj)(),{id:n}=e.params;let o=(0,l.qj)({info:{},loading:!1});const w={createAt:"创建时间",organizationId:"企业ID",orgzLogo:"企业LOGO",orgzName:"企业名称",phoneNum:"企业负责人手机",status:"企业状态",userName:"企业负责人",items:"企业成员"};return(0,t.bv)((()=>{o.loading=!0,(0,i.oS)(n).then((a=>{let e=a.data.data;delete e.userId,o.info=e})).finally((()=>o.loading=!1))})),(a,e)=>{const n=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,l.SU)(o).info,((a,e)=>((0,t.wg)(),(0,t.iD)("div",{class:"m-row",key:e},["orgzLogo"==e?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("span",d,(0,s.zw)(w[e]),1),(0,t._)("img",{src:a},null,8,m)],64)):"items"==e?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("span",p,(0,s.zw)(w[e]),1),(0,t._)("div",g,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a,((a,e)=>((0,t.wg)(),(0,t.iD)("div",{class:"u-item",key:e},[(0,t._)("span",null,"状态："+(0,s.zw)(a.enabled),1),(0,t._)("span",null,"成员："+(0,s.zw)(a.userName||"-"),1),(0,t._)("span",null,"电话："+(0,s.zw)(a.phoneNum||"-"),1)])))),128))])],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t._)("span",v,(0,s.zw)(w[e]),1),(0,t._)("span",f,(0,s.zw)(a||"-"),1)],64))])))),128))])])),[[n,(0,l.SU)(o).loading]])}}};const _=w;var b=_,D=n(999);const y={class:"m-detail m-customer-detail"},z={class:"m-info"},U={class:"u-label"},k={class:"u-value"},S={class:"m-info m-table"},h=(0,t._)("h4",null,"用户所在组织信息",-1);var I={__name:"customerDetail",setup(a){const e=(0,u.yj)(),{id:n}=(0,l.IU)(e).params.value;let o=(0,l.qj)({data:{},loading:!1});const i={userId:"用户ID",phoneNum:"手机号码",status:"用户帐号状态",updateAt:"最新登录时间"};return(0,t.bv)((()=>{o.loading=!0,(0,D.O3)(n).then((a=>{o.data=a.data.data})).finally((()=>o.loading=!1))})),(a,e)=>{const n=(0,t.up)("el-table-column"),u=(0,t.up)("el-table"),r=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",y,[(0,t._)("div",z,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(i,((a,e)=>(0,t._)("div",{class:"m-row",key:e},[(0,t._)("span",U,(0,s.zw)(a),1),(0,t._)("span",k,(0,s.zw)((0,l.SU)(o).data[e]),1)]))),64))]),(0,t._)("div",S,[h,(0,t.Wm)(u,{data:(0,l.SU)(o).data.items,border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{prop:"orgzId",label:"所在企业ID",width:"180"}),(0,t.Wm)(n,{prop:"orgzName",label:"所在企业名称"}),(0,t.Wm)(n,{prop:"userName",label:"姓名"}),(0,t.Wm)(n,{prop:"role",label:"所属角色"})])),_:1},8,["data"])])])),[[r,(0,l.SU)(o).loading]])}}};const W=I;var j=W,H=n(3727);const $={class:"m-detail m-equipment-detail"},O={class:"m-info"},q={class:"u-label"},L={class:"u-value"},N={class:"m-info"},Y={class:"u-label"},A={class:"u-value"};var Q={__name:"equipmentDetail",setup(a){const e=(0,u.yj)(),{id:n}=(0,l.IU)(e).params.value;let o=(0,l.qj)({data:{},loading:!1});(0,t.bv)((()=>{o.loading=!0,(0,H.Q$)(n).then((a=>{o.data=a.data.data})).finally((()=>o.loading=!1))}));const i={deviceId:"设备ID",name:"硬件名称",orgzName:"归属客户",hardVer:"硬件版本",softVer:"固件版本",value:"已绑定"},r={iccid:"ICCID",createAt:"开始时间",updateAd:"更新时间"};return(a,e)=>{const n=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",$,[(0,t._)("div",O,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(i,((a,e)=>(0,t._)("div",{class:"m-row",key:e},[(0,t._)("span",q,(0,s.zw)(a),1),(0,t._)("span",L,(0,s.zw)((0,l.SU)(o).data[e]),1)]))),64))]),(0,t._)("div",N,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(r,((a,e)=>(0,t._)("div",{class:"m-row",key:e},[(0,t._)("span",Y,(0,s.zw)(a),1),(0,t._)("span",A,(0,s.zw)((0,l.SU)(o).data[e]),1)]))),64))])])),[[n,(0,l.SU)(o).loading]])}}};const V=Q;var K=V,X=n(2617),C=n(1575);const P={class:"m-detail m-customer-detail"},F={class:"m-info"},G={class:"m-row m-row-user"},M=["src","alt"],B={class:"m-row"},J=(0,t._)("span",{class:"u-label"},"userId",-1),R={class:"u-value"},x={class:"m-row"},E=(0,t._)("span",{class:"u-label"},"手机",-1),T={class:"u-value"},Z={class:"m-row"},aa=(0,t._)("span",{class:"u-label"},"邮箱",-1),ea={class:"u-value"},na={class:"m-row"},ta=(0,t._)("span",{class:"u-label"},"创建时间",-1),la={class:"u-value"},oa={class:"m-row"},ua=(0,t._)("span",{class:"u-label"},"状态",-1),sa={class:"u-value"};var ia={__name:"roleDetail",setup(a){let e=(0,l.qj)({data:{},loading:!1});const n=(0,o.t)();let{role:u}=(0,C.Jk)(n);return(0,t.bv)((()=>{e.loading=!0,(0,X.FU)().then((a=>{e.data=a.data.data,(0,X.WO)(a.data.data.userId).then((a=>{u=a.data.data,n.role=u}))})).finally((()=>{e.loading=!1}))})),(a,n)=>{const o=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",P,[(0,t._)("div",F,[(0,t._)("div",G,[(0,t._)("img",{class:"u-info-avatar",src:(0,l.SU)(e).data.avatar,alt:(0,l.SU)(e).data.name},null,8,M),(0,t.Uk)((0,s.zw)((0,l.SU)(e).data.name||"-"),1)]),(0,t._)("div",B,[J,(0,t._)("span",R,(0,s.zw)((0,l.SU)(e).data.userId||"-"),1)]),(0,t._)("div",x,[E,(0,t._)("span",T,(0,s.zw)((0,l.SU)(e).data.mobile||"-"),1)]),(0,t._)("div",Z,[aa,(0,t._)("span",ea,(0,s.zw)((0,l.SU)(e).data.email||"-"),1)]),(0,t._)("div",na,[ta,(0,t._)("span",la,(0,s.zw)((0,l.SU)(e).data.updatedAt||"-"),1)]),(0,t._)("div",oa,[ua,(0,t._)("span",sa,(0,s.zw)("0"==(0,l.SU)(e).data.disabled?"正常":"停用"),1)])])])),[[o,(0,l.SU)(e).loading]])}}};const ra=ia;var ca=ra;const da={class:"m-detail m-commonLogs"};var ma={__name:"commonLogs",props:{data:Array},setup(a){const e=a,n=(0,t.Fl)((()=>e.data));return(a,e)=>{const o=(0,t.up)("el-table-column"),u=(0,t.up)("el-table");return(0,t.wg)(),(0,t.iD)("div",da,[(0,t.Wm)(u,{class:"m-table",data:(0,l.SU)(n),border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{prop:"id",label:"时间",width:"180"}),(0,t.Wm)(o,{prop:"name",label:"操作者",width:"180"}),(0,t.Wm)(o,{prop:"address",label:"行为"}),(0,t.Wm)(o,{prop:"address",label:"对象类型"}),(0,t.Wm)(o,{prop:"address",label:"对象"}),(0,t.Wm)(o,{prop:"address",label:"详情记录"})])),_:1},8,["data"])])}}};const pa=ma;var ga=pa;const va={class:"m-details v-page"};var fa={__name:"DetailsPage",setup(a){var e;const n=(0,o.t)(),s=(0,u.yj)(),i=(0,l.qj)((0,u.tv)()),{type:r,id:c}=(0,l.IU)(s).params.value,{data:d}=n,m=(0,l.iH)(null===(e=d[r])||void 0===e?void 0:e.key_name);console.log(r,d);const p=(0,l.iH)("info"),g=(0,l.iH)(r),v=(0,l.qj)({pagination:{page:1,per:20,total:0},data:[],component_name:"commonLogs",component:null}),f=(0,l.qj)({companyDetail:(0,l.Xl)(b),customerDetail:(0,l.Xl)(j),equipmentDetail:(0,l.Xl)(K),roleDetail:(0,l.Xl)(ca),commonLogs:(0,l.Xl)(ga)}),w=(0,l.iH)(!0);return(0,t.YP)(p,(a=>{v.component_name="logs"==a?(0,l.iH)("commonLogs"):(0,l.iH)(`${g.value}Detail`),v.component=f[v.component_name]}),{deep:!0,immediate:!0}),(0,t.YP)(i,(a=>{w.value=!1,p.value="info";const e=a.currentRoute.params.type;g.value=e,"company"!=e&&"role"!=e||(w.value=!1),"role"==e&&(m.value="帐号"),v.component_name=(0,l.iH)(`${e}Detail`),v.component=f[v.component_name]}),{deep:!0,immediate:!0}),(a,e)=>{const n=(0,t.up)("el-tab-pane"),l=(0,t.up)("el-tabs"),o=(0,t.up)("commonPagination");return(0,t.wg)(),(0,t.iD)("div",va,[(0,t.Wm)(l,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),class:"m-tabs"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:`${m.value}信息`,name:"info"},null,8,["label"]),w.value?((0,t.wg)(),(0,t.j4)(n,{key:0,label:`${m.value}操作日志`,name:"logs"},null,8,["label"])):(0,t.kq)("",!0)])),_:1},8,["modelValue"]),((0,t.wg)(),(0,t.j4)((0,t.LL)(v.component),{data:v.data},null,8,["data"])),w.value?((0,t.wg)(),(0,t.j4)(o,{key:0,pagination:v.pagination},null,8,["pagination"])):(0,t.kq)("",!0)])}}};const wa=fa;var _a=wa}}]);
//# sourceMappingURL=834.3480c4d3.js.map